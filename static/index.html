<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Website for diagnosing Monkeypox and related diseases" />
        <meta name="author" content="Jonathan Gong" />
        <title>MpoxWeb</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
            <div class="container px-5">
                <a class="navbar-brand" href="#page-top">Home</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        
                        <li class="nav-item"><a class="nav-link" href="#author">Author</a></li>
                        <li class="nav-item"><a class="nav-link" href="#model">Model</a></li>
                        <li class="nav-item"><a class="nav-link" href="#purpose">Purpose</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Header-->
        <header class="masthead text-center text-white">
            <div class="masthead-content">
                <div class="container px-5" id="homepage" style="display: block;">
                    
                    <h1 class="masthead-heading mb-0">Monkeypox Detection</h1>
                    <h2 class="masthead-subheading mb-0">Take a pic to see if you're sick!</h2>
                    <div id="disclaimerSection" style="display:block">     
                        <button id="openDisclaimerBtn" class="btn btn-primary btn-xl rounded-pill mt-5">
                            Open Disclaimer
                        </button>
                        <!-- The Modal -->
                        <div id="disclaimerModal" class="modal" tabindex="-1">
                            <div class="modal-dialog">
                                <!-- Modal content -->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h2 class="modal-title">
                                            Disclaimer
                                        </h2>
                                        <!-- <span class="close">&times;</span> -->
                                        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                        <div class="modal-body">
                                            <p>Welcome to our Mpox Detection Tool. 
                                                Please be advised that this tool is 
                                                intended for research purposes only and 
                                                is not a substitute for professional medical advice, 
                                                diagnosis, or treatment. The images and survey data 
                                                you provide will be collected anonymously and used solely 
                                                for the purpose of improving our understanding and detection 
                                                of mpox. By continuing, you consent to the collection and use 
                                                of your data in accordance with these terms. Please 
                                                consult a healthcare professional for any medical concerns.</p>
                                        </div>
                                    <div class="modal-footer">
                                        <h3>Thank you, Jonathan Gong</h3>
                                        <h4>
                                            <button id="agreeBtn", class="btn">Agree</button>
                                        </h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id='surveySection' class="container px-5" style="display: none;">
                    <!-- <h1 class="masthead-subheading mb-0">
                        Welcome to the Mpox Detector
                    </h1> -->
                      <h1 class="masthead-subheading mb-0">Mpox Survey</h1>
                      <p style="font-size: 20px">Please fill out the following survey to help us understand your symptoms and potential exposure to mpox.</p>
                        <form id="surveyForm" enctype="multipart/form-data">
                          <div class="form-group mb-3">
                              <label for="symptom_onset">When did your symptoms start?</label>
                              <input type="date"id="symptom_onset" name="symptom_onset" class="form-control" required>
                          </div>
                          <div class="form-group mb-3">
                              <label for="symptoms">List your symptoms:</label>
                              <textarea id="symptoms" name="symptoms" class="form-control" rows="3" required></textarea>
                          </div>
                          <div class="form-group mb-3">
                              <label for="travel_history">Have you traveled recently? If yes, where?</label>
                              <input type="text" id="travel_history" name="travel_history" class="form-control" required>
                          </div>
                          <div class="form-group mb-3">
                              <label for="contact_history">Have you had contact with a known mpox case?</label>
                              <input type="text" id="contact_history" name="contact_history" class="form-control" required>
                          </div>
                          <div class="form-group mb-3">
                            <label for="medical_image">Input your PNG image for diagnosis</label>
                            <input type="file", accept="image/png" id="medical_image" name="medical_image" class="form-control" required>
                          </div>
                          <button type="submit", id = "surveybtn", class="btn btn-xl">Submit</button>
                        </form>
                </div>

                <div class="container px-5">
                    <div id="surveyresult">
                        <h2 class="masthead-subheading mb-0" id="surveysuccess" style="display: none;">Survey submitted succesfully!</h2>
                    </div>
                    <div class="row justify-content-center">
                        <button id="tomodelbtn" class="btn btn-xl-model" style="display: none;">Go To Model</button>
                    </div>
                </div>
                <div id='modelSection' class="container px-5" style="display: none;">

                    <!-- Button to Run Model -->
                    <h1 class="text-center">Results</h1>
                    <button type="submit" id="modelrunbtn" class="btn btn-primary">Run Model</button>
                    <div id="loadingContainer" class="mt-4" style="display:none;">
                        <div id="loadingBar" class="progress-bar progress-bar-striped bg-info" style="width: 0%; height: 20px; background-color: blue;"></div>
                        <p id="loadingText" class="mt-2 text-center">Loading model: 0%</p>
                    </div>
                </div>

                <div id= "result" class="container text-center px-5" style="display: none;">
                    <h2 class="masthead-subheading mb-0"> Your Diagnosis </h2>
                    <canvas id="predictionChart" width="400" height="200"></canvas>
                </div>
            
            </div>
            <!-- <div class="bg-circle-1 bg-circle"></div>
            <div class="bg-circle-2 bg-circle"></div>
            <div class="bg-circle-3 bg-circle"></div>
            <div class="bg-circle-4 bg-circle"></div> -->
        </header>
        <!-- <h1 class='masthead-subheading' id="thxtext", style="display: none;">Thank you for accepting! </h1> -->
        <!-- Content section 1-->
        <section id="author">
            <div class="container px-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-lg-6 order-lg-2">
                        <div class="p-5"><img class="img-fluid rounded-circle" src="assets/img/myface.jpg" alt="..." /></div>
                    </div>
                    <div class="col-lg-6 order-lg-1">
                        <div class="p-5">
                            <h2 class="display-4">Author: Jonathan Gong</h2>
                            <p>This website was developed by Jonathan Gong, who is passionate about applying machine learning to improve healthcare. With a strong background in AI model development, Jonathan's goal is to make early detection of diseases more accessible.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Content section 2-->
        <section id="model">
            <div class="container px-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-lg-6">
                        <div class="p-5"><img class="img-fluid" src="assets/img/densenet.jpg" alt="..." /></div>
                    </div>
                    <div class="col-lg-6">
                        <div class="p-5">
                            <h2 class="display-4">Model: Mpox Detection AI</h2>
                            <p>This AI model is trained to detect signs of Mpox from user-submitted images. The model leverages a CNN arm from a CNN+ViT model to analyze skin lesions and identify patterns associated with Mpox infection.
                                For more information on the model and data used, please refer to my <a href="paper.html">paper</a>. 
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Content section 3-->
        <section id="purpose">
            <div class="container px-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-lg-6 order-lg-2">
                        <div class="p-5"><img class="img-fluid rounded-circle" src="assets/img/gurashock.jpg" alt="..." /></div>
                    </div>
                    <div class="col-lg-6 order-lg-1">
                        <div class="p-5">
                            <h2 class="display-4">Purpose of the Tool</h2>
                            <p>The Mpox Detection Tool is intended for research and educational purposes only. It allows users to upload images for analysis, helping researchers gather data for further study of the disease. This tool should not be used as a substitute for professional medical advice, diagnosis, or treatment.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Content Section 4-->
        <section id="contact">
            <div class="container px-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-lg-6">
                        <div class="p-5"><img class="img-fluid rounded-circle" src="assets/img/myface2.jpg" alt="..." /></div>
                    </div>
                    <div class="col-lg-6">
                        <div class="p-5">
                            <h2 class="display-4">Get in Touch</h2>
                            <p>If you have any questions or inquiries, feel free to reach out to us via email at <a href="mailto:jonathangong2005@gmail.com">jonathangong2005@gmail.com</a>. We're always open to feedback, collaborations, or further discussions about the project.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="py-5 bg-black">
            <div class="container px-5"><p class="m-0 text-center text-white small">Copyright &copy; MpoxWeb 2024</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="survey_loader.js"></script>
        <script src="model_loader.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </body>
</html>
